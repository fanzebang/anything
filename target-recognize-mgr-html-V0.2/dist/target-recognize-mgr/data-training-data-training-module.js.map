{"version":3,"sources":["./src/app/pages/data-training/add-training.component.ts","./src/app/pages/data-training/add-training.component.html","./src/app/pages/data-training/data-train.pipes.ts","./src/app/pages/data-training/data-training-routing.module.ts","./src/app/pages/data-training/data-training.component.ts","./src/app/pages/data-training/data-training.component.html","./src/app/pages/data-training/data-training.module.ts","./src/app/pages/data-training/model-compare.component.ts","./src/app/pages/data-training/model-compare.component.html","./src/app/pages/data-training/model-precision.component.ts","./src/app/pages/data-training/model-precision.component.html"],"names":[],"mappings":"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","file":"data-training-data-training-module.js","sourcesContent":["import {Component, Input, OnInit, ViewChild} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {environment} from '../../../environments/environment';\r\nimport {DataTrain, HttpResult, SampleOssType} from '../../core/http-entity';\r\nimport {\r\n  NzFormatEmitEvent,\r\n  NzMessageService,\r\n  NzModalRef,\r\n  NzTreeNode,\r\n  NzTreeNodeOptions, NzTreeSelectComponent\r\n} from 'ng-zorro-antd';\r\nimport {Observable} from 'rxjs';\r\n\r\n@Component({\r\n  templateUrl: './add-training.component.html',\r\n  styleUrls: ['./add-training.component.less']\r\n})\r\nexport class AddTrainingComponent implements OnInit {\r\n\r\n  @Input()\r\n  trainId: number;\r\n  validateForm!: FormGroup;\r\n  dataTrain: DataTrain;\r\n\r\n  nodes: NzTreeNodeOptions[] = [];\r\n\r\n  @ViewChild('sampleTreeSelect', {static: false})\r\n  nzTreeSelectComponent!: NzTreeSelectComponent;\r\n\r\n\r\n  constructor(private fb: FormBuilder, private http: HttpClient, private nzModalRef: NzModalRef, private msg: NzMessageService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.validateForm = this.fb.group({\r\n      taskName: [null, [Validators.required]],\r\n      taskDetail:[null, [Validators.required]],\r\n      taskPattern: [null, [Validators.required]],\r\n      normModel: [null, [Validators.required]],\r\n      taskMode: [null, [Validators.required]],\r\n      sampleCategory: [null, [Validators.required]],\r\n    });\r\n\r\n    this.initSampleTree();\r\n  }\r\n\r\n  initSampleTree() {\r\n    this.http.get(`${environment.API_URL}/v1/sample-oss-types`).subscribe((result: HttpResult<any>) => {\r\n      if (HttpResult.succeed(result.code)) {\r\n        const nodes = result.data.map((data) => {\r\n          return {\r\n            title: data.data.sampleTypeName,\r\n            value: data.data.id + '',\r\n            key: data.data.id + '',\r\n            isLeaf: data.isLeaf\r\n          };\r\n        });\r\n\r\n        this.nodes = nodes;\r\n\r\n\r\n        if (this.trainId) {\r\n          this.loadTrain(this.trainId);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  checkTreePath(sampleUpId: string, sampleOssTypeStack: SampleOssType[]) {\r\n\r\n    this.http.get(`${environment.API_URL}/v1/sample-oss-types/${sampleUpId}`).subscribe((result: HttpResult<SampleOssType>) => {\r\n\r\n      if (HttpResult.succeed(result.code)) {\r\n\r\n        if (result.data.sampleUpId) {// 如果sampleUpId是null，则表示已经到了顶级了\r\n          // 还有上一级\r\n          sampleOssTypeStack.unshift(result.data);// 将当前分类插入到数组第一个位置\r\n\r\n          this.checkTreePath(result.data.sampleUpId + '', sampleOssTypeStack);\r\n\r\n        } else {\r\n          // 没有上一级了\r\n          const rootNodes = this.nzTreeSelectComponent.getTreeNodes();\r\n\r\n          if (sampleOssTypeStack.length > 0) {\r\n\r\n            for (let i = 0; i < rootNodes.length; i++) {\r\n              if (+rootNodes[i].key == result.data.id) {\r\n                this.fillTreePathNode(rootNodes[i], sampleOssTypeStack, 0);\r\n                break;\r\n              }\r\n            }\r\n\r\n          } else {\r\n\r\n\r\n            for (let i = 0; i < rootNodes.length; i++) {\r\n              if (+rootNodes[i].key == result.data.id) {\r\n                rootNodes[i].isChecked = true;\r\n\r\n                this.patchForm();\r\n                break;\r\n              }\r\n            }\r\n\r\n\r\n          }\r\n\r\n        }\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  fillTreePathNode(parentNode: NzTreeNode, sampleOssTypeStack: SampleOssType[], idx: number) {\r\n    if (idx < sampleOssTypeStack.length) {\r\n      const targetSampleType = sampleOssTypeStack[idx];\r\n\r\n      if (parentNode.children.length == 0) {\r\n        const isHalfChecked = idx < sampleOssTypeStack.length - 1;\r\n        const isChecked = idx == sampleOssTypeStack.length - 1;\r\n\r\n        this.http.get(`${environment.API_URL}/v1/sample-oss-types`, {\r\n          params: {\r\n            sampleUpId: parentNode.key\r\n          }\r\n        }).subscribe((result: HttpResult<any[]>) => {\r\n          if (HttpResult.succeed(result.code)) {\r\n            const childrenNodes = result.data.map(data => {\r\n\r\n              return {\r\n                title: data.data.sampleTypeName,\r\n                value: data.data.id + '',\r\n                key: data.data.id + '',\r\n                isLeaf: data.isLeaf,\r\n                isHalfChecked: isHalfChecked,\r\n                isChecked: isChecked\r\n              };\r\n\r\n            });\r\n\r\n            parentNode.addChildren(childrenNodes);\r\n            console.log('parentNode is :', parentNode);\r\n            for (let i = 0; i < parentNode.children.length; i++) {\r\n              if (+parentNode.children[i].key == targetSampleType.id) {\r\n                this.fillTreePathNode(parentNode.children[i], sampleOssTypeStack, idx + 1);\r\n\r\n\r\n                this.patchForm();\r\n\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        for (let i = 0; i < parentNode.children.length; i++) {\r\n          if (+parentNode.children[i].key == targetSampleType.id) {\r\n            this.fillTreePathNode(parentNode.children[i], sampleOssTypeStack, idx + 1);\r\n\r\n\r\n            this.patchForm();\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  submitForm(): void {\r\n    for (const i in this.validateForm.controls) {\r\n      this.validateForm.controls[i].markAsDirty();\r\n      this.validateForm.controls[i].updateValueAndValidity();\r\n    }\r\n\r\n    if (!this.validateForm.valid) {\r\n      this.nzModalRef.updateConfig({\r\n        nzOkLoading: true\r\n      });\r\n\r\n      const formValue = this.validateForm.value;\r\n\r\n      let sampleIds = formValue.sampleCategory.join(',');\r\n\r\n      if (this.trainId) {\r\n        // 修改\r\n        this.http.put(`${environment.API_URL}/v1/data_train`, {\r\n          id: this.trainId,\r\n          taskName: formValue.taskName,\r\n          taskPattern: formValue.taskPattern,\r\n          normModel: formValue.normModel,\r\n          taskMode: formValue.taskMode,\r\n          taskSampleType: sampleIds\r\n        }).subscribe((result: HttpResult<any>) => {\r\n          if (HttpResult.succeed(result.code)) {\r\n            this.msg.success('新增成功');\r\n            this.nzModalRef.close('1');\r\n          } else {\r\n            this.msg.error(result.message);\r\n            this.nzModalRef.updateConfig({\r\n              nzOkLoading: false\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        // 新增\r\n        this.http.post(`${environment.API_URL}/v1/data_train`, {\r\n          taskName: formValue.taskName,\r\n          taskPattern: formValue.taskPattern,\r\n          normModel: formValue.normModel,\r\n          taskMode: formValue.taskMode,\r\n          taskSampleType: sampleIds\r\n        }).subscribe((result: HttpResult<any>) => {\r\n          if (HttpResult.succeed(result.code)) {\r\n            this.msg.success('新增成功');\r\n            this.nzModalRef.close('1');\r\n          } else {\r\n            console.log(result);\r\n            this.msg.error(result.message);\r\n            this.nzModalRef.updateConfig({\r\n              nzOkLoading: false\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  onExpandChange(event: NzFormatEmitEvent): void {\r\n\t  console.log(event)\r\n    if (event.eventName === 'expand') {\r\n      if (event.node.getChildren().length === 0 && event.node.isExpanded) {\r\n        this.loadNode(event.node.key).subscribe(result => {\r\n          if (HttpResult.succeed(result.code)) {\r\n            const childrenNodes = result.data.map((data) => {\r\n                return {\r\n                  title: data.data.sampleTypeName,\r\n                  value: data.data.id + '',\r\n                  key: data.data.id + '',\r\n                  isLeaf: data.isLeaf\r\n                };\r\n              }\r\n            );\r\n\r\n            event.node.addChildren(childrenNodes);\r\n\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  loadNode(key: any): Observable<HttpResult<any>> {\r\n    return this.http.get<HttpResult<any>>(`${environment.API_URL}/v1/sample-oss-types`, {\r\n      params: {\r\n        sampleUpId: key\r\n      }\r\n    });\r\n  }\r\n\r\n  loadTrain(id): void {\r\n    this.http.get(`${environment.API_URL}/v1/data_train/${id}`).subscribe((result: HttpResult<DataTrain>) => {\r\n      if (HttpResult.succeed(result.code)) {\r\n\r\n        this.dataTrain = result.data;\r\n\r\n        // 需要回填树形数据\r\n        const taskSampleType: string[] = this.dataTrain.taskSampleType.split(',');\r\n        // this.validateForm.patchValue({\r\n        //   taskName: this.dataTrain.taskName,\r\n        //   taskPattern: this.dataTrain.taskPattern,\r\n        //   normModel: this.dataTrain.normModel,\r\n        //   taskMode: this.dataTrain.taskMode,\r\n        //   sampleCategory: taskSampleType\r\n        // });\r\n\r\n        taskSampleType.forEach(sampleId => {\r\n          this.checkTreePath(sampleId, []);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  patchForm() {\r\n    this.validateForm.patchValue({\r\n      taskName: this.dataTrain.taskName,\r\n      taskDetail: this.dataTrain.taskDetail,\r\n      taskPattern: this.dataTrain.taskPattern,\r\n      normModel: this.dataTrain.normModel,\r\n      taskMode: this.dataTrain.taskMode,\r\n      sampleCategory: this.dataTrain.taskSampleType.split(',')\r\n    });\r\n  }\r\n}\r\n\r\nclass TrainSelectedSample {\r\n  key: string;\r\n\r\n}\r\n","<form nz-form [formGroup]=\"validateForm\" (ngSubmit)=\"submitForm()\">\r\n  <nz-form-item>\r\n    <nz-form-label nzSm=\"6\" [nzXs]=\"24\">任务名称</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\" nzErrorTip=\"请填写任务名称!\">\r\n      <input formControlName=\"taskName\" nz-input/>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item>\r\n    <nz-form-label nzSm=\"6\" [nzXs]=\"24\">模型说明</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\" nzErrorTip=\"请填写模型说明!\">\r\n        <input formControlName=\"taskPattern\" nz-input  id=\"taskPattern\" name=\"taskPattern\" maxlength=\"400\"/>\r\n      <!-- <nz-select formControlName=\"taskPattern\" id=\"taskPattern\" name=\"taskPattern\">\r\n        <nz-option [nzValue]=\"2\" nzLabel=\"自动\"></nz-option>\r\n        <nz-option [nzValue]=\"1\" nzLabel=\"手动\"></nz-option>\r\n      </nz-select> -->\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item>\r\n    <nz-form-label nzSm=\"6\" [nzXs]=\"24\">应用场景</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\" nzErrorTip=\"请选择基准模型!\">\r\n      <nz-select formControlName=\"normModel\">\r\n        <nz-option [nzValue]=\"1\" nzLabel=\"高精度\"></nz-option>\r\n        <nz-option [nzValue]=\"2\" nzLabel=\"低时延\"></nz-option>\r\n        <nz-option [nzValue]=\"3\" nzLabel=\"平衡\"></nz-option>\r\n        <nz-option [nzValue]=\"4\" nzLabel=\"边缘\"></nz-option>\r\n        <nz-option [nzValue]=\"5\" nzLabel=\"终端\"></nz-option>\r\n      </nz-select>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item>\r\n    <nz-form-label nzSm=\"6\" [nzXs]=\"24\">任务方式</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\" nzErrorTip=\"请选择基准模型!\">\r\n      <nz-select formControlName=\"taskMode\">\r\n        <nz-option [nzValue]=\"1\" nzLabel=\"增量训练\"></nz-option>\r\n        <nz-option [nzValue]=\"2\" nzLabel=\"重新训练\"></nz-option>\r\n      </nz-select>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n  <nz-form-item>\r\n    <nz-form-label nzSm=\"6\" [nzXs]=\"24\">类别</nz-form-label>\r\n    <nz-form-control [nzSm]=\"14\" [nzXs]=\"24\" nzErrorTip=\"请选择基准模型!\">\r\n\r\n      <nz-tree-select\r\n        #sampleTreeSelect\r\n        formControlName=\"sampleCategory\"\r\n        [nzNodes]=\"nodes\"\r\n        (nzExpandChange)=\"onExpandChange($event)\"\r\n        [nzDropdownMatchSelectWidth]=\"true\"\r\n        [nzDropdownStyle]=\"{ 'max-height': '300px' }\"\r\n        [nzAsyncData]=\"true\"\r\n        style=\"width: 275px\"\r\n        nzCheckable>\r\n      </nz-tree-select>\r\n    </nz-form-control>\r\n  </nz-form-item>\r\n\r\n\r\n</form>\r\n","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({name: 'trainTaskMode'})\r\nexport class DataTrainPipes implements PipeTransform {\r\n  transform(taskMode: number): string {\r\n    // 1增量训练，2重新训练\r\n    if (taskMode === 1) {\r\n      return '增量训练';\r\n    } else {\r\n      return '重新训练';\r\n    }\r\n  }\r\n}\r\n\r\n\r\n@Pipe({name: 'taskPattern'})\r\nexport class DataTaskPatternPipes implements PipeTransform {\r\n  transform(taskPattern: number): string {\r\n    if (taskPattern === 1) {\r\n      return '手动训练';\r\n    } else {\r\n      return '自动训练';\r\n    }\r\n  }\r\n}\r\n\r\n@Pipe({name: 'taskStatus'})\r\nexport class DataTaskStatusPipes implements PipeTransform {\r\n  transform(taskStatus: number): string {\r\n    // 0正在训练/1暂停训练/2训练完成/3 强制结束\r\n    if (taskStatus === -1) {\r\n      return '正在排队';\r\n    } else if (taskStatus === 0) {\r\n      return '正在训练';\r\n    } else if (taskStatus === 1) {\r\n      return '暂停训练';\r\n    } else if (taskStatus === 2) {\r\n      return '训练完成';\r\n    } else if (taskStatus === 3) {\r\n      return '强制结束';\r\n    }\r\n  }\r\n}\r\n\r\n@Pipe({name: 'taskProgress'})\r\nexport class DataTaskProgressPipes implements PipeTransform {\r\n  transform(taskProgress: any): number {\r\n    if (!isNaN(+taskProgress)) {\r\n      return +taskProgress * 100;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n\r\n","import {NgModule} from \"@angular/core\";\r\nimport {RouterModule} from \"@angular/router\";\r\nimport {DataTrainingComponent} from \"./data-training.component\";\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild([\r\n    {\r\n      path: '', component: DataTrainingComponent\r\n    }\r\n  ])],\r\n  exports: [RouterModule]\r\n})\r\nexport class DataTrainingRoutingModule {\r\n\r\n}\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {NzMessageService, NzModalService,NzUploadChangeParam} from 'ng-zorro-antd';\r\nimport {AddTrainingComponent} from './add-training.component';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {DataTrain, HttpResult, ApiPage,SampleOssType} from 'src/app/core/http-entity';\r\nimport {environment} from '../../../environments/environment';\r\nimport {ModelPrecisionComponent} from './model-precision.component';\r\nimport {ModelCompareComponent} from './model-compare.component';\r\n// import * as echarts from 'echarts';\r\n// import {ECharts} from \"echarts\";\r\n// import 'echarts/dist/extension/bmap.min.js';\r\n\r\nimport 'echarts/map/js/china.js';\r\n\r\n\r\nimport axios from \"axios\"\r\n\r\n \r\ndeclare var $:any;\r\ndeclare var echarts:any\r\ndeclare var ecStat:any\r\n@Component({\r\n  templateUrl: './data-training.component.html',\r\n  styleUrls: ['./data-training.component.less', './train.less']\r\n})\r\nexport class DataTrainingComponent implements OnInit {\r\n  showCompare = false;\r\n  tabIndex = 0;\r\n  flag = 0;\r\n  pageIndex = 1;\r\n  pageSize = 10;\r\n  dataTotal = 0;\r\n  isVisible = false;\r\n  isVisible1 = false;\r\n  listOfData: DataTrain[] = [];\r\n  dataTrain: DataTrain;\r\n  mapOfCheckedId: { [key: string]: boolean } = {};\r\n  status = 'STATUS';\r\n  compareDisplay:boolean = false\r\n  rightComponent = false;\r\n  // listOfData = [{\r\n  //   taskName: 'Minie Ford',\r\n  //   taskPattern: '自动',\r\n  //   source: '可见光',\r\n  //   taskMode: '增量训练',\r\n  //   progress: '40%',\r\n  //   startTime: '2018-06-23 15:36'\r\n  // }, {\r\n  //   taskName: 'Minie Ford',\r\n  //   taskPattern: '自动',\r\n  //   source: '可见光',\r\n  //   taskMode: '增量训练',\r\n  //   progress: '40%',\r\n  //   startTime: '2018-06-23 15:36'\r\n  // }, {\r\n  //   taskName: 'Minie Ford',\r\n  //   taskPattern: '自动',\r\n  //   source: '可见光',\r\n  //   taskMode: '增量训练',\r\n  //   progress: '40%',\r\n  //   startTime: '2018-06-23 15:36'\r\n  // }];\r\n\r\n  checked = false;\r\n  indeterminate = false;\r\n  setOfCheckedId = new Set<number>();\r\n  isAllDisplayDataChecked = false;\r\n  isIndeterminate = false;\r\n  numberOfChecked = 0;\r\n  jdcurver:any = [];\r\n  csPic:any = []\r\n  precision:any;\r\n  selectList:String[] = [\"全部\"];\r\n  selectData:String = \"全部\";\r\n  intervalLoadTraining:any\r\n  onItemChecked(id: number, checked: boolean): void {\r\n    // this.updateCheckedSet(id, checked);\r\n    // this.refreshCheckedStatus();\r\n  }\r\n\r\n  comparingDataTrainList: DataTrain[] = [];\r\n\r\n  \r\n  checkAll(value: boolean): void {\r\n   \r\n    this.listOfData.forEach(d => (this.mapOfCheckedId[String(d.id)] = value));\r\n    \r\n    this.refreshStatus();\r\n  }\r\n\r\n\r\n  refreshStatus(): void {\r\n\r\n    \r\n\r\n    // if(arguments[0])\r\n\r\n    // console.log(typeof arguments)\r\n\r\n    this.isAllDisplayDataChecked = this.listOfData\r\n      .every(item => this.mapOfCheckedId[String(item.id)]);\r\n    this.isIndeterminate =\r\n      this.listOfData.some(item => this.mapOfCheckedId[String(item.id)]) &&\r\n      !this.isAllDisplayDataChecked;\r\n    this.numberOfChecked = this.listOfData.filter(item => this.mapOfCheckedId[String(item.id)]).length;\r\n  }\r\n\r\n  constructor(private nzModal: NzModalService, private http: HttpClient, private nzMessage: NzMessageService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadTraining();\r\n    \r\n   \r\n  \r\n  }\r\n\r\n  // addTask() {\r\n  //   this.nzModal.create({\r\n  //     nzTitle: '创建任务',\r\n  //     nzContent: AddTrainingComponent,\r\n  //     nzOkText: '提交请求',\r\n  //     nzOnOk: (addComponent: AddTrainingComponent) => {\r\n  //       addComponent.submitForm();\r\n  //       return false;\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  ngAfterViewInit(): void {\r\n    //Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\r\n    //Add 'implements AfterViewInit' to the class.\r\n\r\n   this.intervalLoadTraining =  setInterval(()=>{\r\n\r\n      this.loadTraining();\r\n\r\n    },1000*60)\r\n    \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    //Called once, before the instance is destroyed.\r\n    //Add 'implements OnDestroy' to the class.\r\n    clearInterval(this.intervalLoadTraining)\r\n  }\r\n\r\n  download(e:any,data:any){\r\n\r\n\r\n    axios.get(`${environment.API_URL}/v1/data_train/queryById?id=${data.id}`, {\r\n      headers: {\r\n        'Authorization':'Bearer '+localStorage.getItem('Bearer'),\r\n        'TR-Role': 'TR-User'\r\n      }\r\n    })\r\n    .then((result:any)=>{\r\n      \r\n      var result = result.data.data\r\n      window.open(result.trainUrl,\"_blank\"); \r\n\r\n    })\r\n  }\r\n  \r\n  fileChange(){\r\n    console.log(1111)\r\n    var file = $(\"#imgInput\")[0].files\r\n    var formData = new FormData()\r\n    $.each(file,function(i,n){\r\n      let file2 = new window.File([n], n.name, {type: n.type})\r\n       formData.append(\"files\",file2)\r\n    })\r\n    var id =$(this).attr(\"data\")\r\n    formData.append(\"id\",id)\r\n    $(\"body\").append('<div style=\"width: 100%;height: 100%;background: #15132d99;position: absolute;top:0;left:0;z-index:99999\" id=\"loding\"><div style=\"width:30px;height:30px;position: absolute;left:50%;top:50%\"><img src=\"assets/images/loading.gif\"></div></div>')\r\n    axios.post(`${environment.API_URL}/v1/data_train/testModel`,formData, {\r\n      headers: {\r\n        'Authorization':'Bearer '+localStorage.getItem('Bearer'),\r\n        'TR-Role': 'TR-User'\r\n      }\r\n    })\r\n    .then((result:any)=>{\r\n      $(\"#loding\").remove()\r\n      if(result.data.message == \"测试失败\"){\r\n          alert(result.data.message)    \r\n      }else{\r\n        if(result.data.code == 1){\r\n          var imgData = JSON.parse(result.data.data)\r\n          $.each(imgData,function(i,n){\r\n            $(\"#image-list1\").append(`<div class=\"cover\"><img src=\"${n}\" alt=\"\"></div>`)\r\n          })\r\n        }\r\n    \r\n      }\r\n      $(\"#imgInput\").val(\"\")\r\n    })\r\n  }\r\n  tabChange(e:any){\r\n    var that = this\r\n    if(e.index == 1){\r\n  \t$('.image-list1').on('click', '.cover', function () {\r\n      var this_ = $(this);\r\n      var images = this_.parents('.image-list1').find('.cover');\r\n      var imagesArr = new Array();\r\n      $.each(images, function (i, image) {\r\n        imagesArr.push($(image).children('img').attr('src'));\r\n      });\r\n      $.pictureViewer({\r\n        images: imagesArr, //需要查看的图片，数据类型为数组\r\n        initImageIndex: this_.index() + 1, //初始查看第几张图片，默认1\r\n        scrollSwitch: true //是否使用鼠标滚轮切换图片，默认false\r\n      });\r\n    });\r\n    $(\"#imgInput\").attr(\"data\",that.listData.id)\r\n    $(\"#imgInput\").on(\"change\",that.fileChange)\r\n    }else{\r\n      that.fileChange = null\r\n    }\r\n  }\r\n\r\n  loadTraining() {\r\n    let params;\r\n    //不分页\r\n    if (this.status === 'END') {\r\n      params = new HttpParams().append('status', this.status).append('isOver', 'true');\r\n    } else if(this.status === 'STATUS'){\r\n      params = new HttpParams().append('status', this.status);\r\n    }else{\r\n       params = new HttpParams().append('status', this.status);\r\n    }\r\n    this.http.get(`${environment.API_URL}/v1/data_train/`, {params}).subscribe((result: HttpResult<ApiPage<DataTrain>>) => {\r\n      if (HttpResult.succeed(result.code)) {\r\n\r\n        this.listOfData = result.data.records;\r\n        this.dataTotal = result.data.total;\r\n        this.pageIndex = result.data.current;\r\n \r\n        if(this.status != 'LINE_UP' && this.status != 'STATUS' ){\r\n     \r\n\r\n            this.loadSelectData(this.listOfData);\r\n\r\n        }    \r\n \r\n      }\r\n    });\r\n  }\r\n\r\n  loadSelectData(listOfData:Array<DataTrain>){\r\n\r\n      for (let index = 0; index < listOfData.length; index++) {\r\n        const element = listOfData[index];\r\n\r\n        this.http.get(`${environment.API_URL}/v1/sample-oss-types/${element.taskSampleType}`).subscribe((result: HttpResult<SampleOssType>) => {\r\n\r\n          if (HttpResult.succeed(result.code)) {\r\n            this.selectList.push(result.data.sampleTypeName)\r\n          }\r\n        });\r\n\r\n\r\n      }\r\n\r\n\r\n  }\r\n  // 暂停\r\n  endTask() {\r\n    const checkedCameraIds = [];\r\n    for (const k in this.mapOfCheckedId) {\r\n      if (this.mapOfCheckedId[k]) {\r\n        checkedCameraIds.push(k);\r\n      }\r\n    }\r\n    if (checkedCameraIds.length < 1) {\r\n      this.nzMessage.error('最少勾选一项');\r\n      return;\r\n    }\r\n    const controllerIds = checkedCameraIds.join(',');\r\n    const params = new HttpParams().append('ids', controllerIds);\r\n    this.http.put(`${environment.API_URL}/v1/data_train/endTask`, null, {params}).subscribe((result: any) => {\r\n      if (result.code) {\r\n        this.checkAll(false);\r\n        this.nzMessage.success('暂停成功');\r\n        this.loadTraining();\r\n      } else {\r\n        this.nzMessage.error(result.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  delete() {\r\n    const checkedCameraIds = [];\r\n    for (const k in this.mapOfCheckedId) {\r\n      if (this.mapOfCheckedId[k]) {\r\n        checkedCameraIds.push(k);\r\n      }\r\n    }\r\n    if (checkedCameraIds.length < 1) {\r\n      this.nzMessage.error('最少勾选一项');\r\n      return;\r\n    }\r\n    const controllerIds = checkedCameraIds.join(',');\r\n    this.http.delete(`${environment.API_URL}/v1/data_train/${controllerIds}`).subscribe((result: any) => {\r\n      if (result.code) {\r\n        this.nzMessage.success('删除成功');\r\n        this.loadTraining();\r\n      } else {\r\n        this.nzMessage.error(result.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  changeStatus(flag: number) {\r\n    console.log(flag)\r\n    this.flag = flag;\r\n    if(flag ==0){\r\n      this.status = 'STATUS';\r\n      console.log('点击进行中');\r\n      this.loadTraining();\r\n    }\r\n     if (flag ==1) {\r\n      console.log('点击已经结束');\r\n      this.selectList = this.selectList.splice(0,1)\r\n      this.compareDisplay = false\r\n      this.status = 'OVER';\r\n      //加载进行中的数据\r\n      this.loadTraining();\r\n    }\r\n    if (flag ==-1){\r\n      this.status = 'LINE_UP';\r\n      console.log('点击排队中');\r\n      this.loadTraining();\r\n    }\r\n  }\r\n\r\n  ngModelChange(){\r\n   \r\n    this.selectData  == \"全部\"?this.compareDisplay = false: this.compareDisplay = true\r\n  \r\n  }\r\n\r\n  tableClick(id: number) {\r\n    this.rightComponent = true;\r\n    for (let i = 0; i < this.listOfData.length; i++) {\r\n      if (this.listOfData[i].id === id) {\r\n       \r\n        switch(this.listOfData[i].taskMode) {\r\n          case 0:\r\n            this.listOfData[i].taskModeName = \"高精度\"\r\n             break;\r\n          case 1:\r\n            this.listOfData[i].taskModeName = \"低延时\"\r\n             break;\r\n             case 2:\r\n              this.listOfData[i].taskModeName = \"平衡\"\r\n               break;\r\n               case 3:\r\n                this.listOfData[i].taskModeName = \"边缘\"\r\n                 break;\r\n                 case 4:\r\n                  this.listOfData[i].taskModeName = \"终端\"\r\n                   break;\r\n          default:   this.listOfData[i].taskModeName = \"\"\r\n             \r\n     } \r\n     var taskProgress:any = this.listOfData[i].taskProgress*1\r\n     taskProgress = taskProgress.toFixed(2)\r\n     this.listOfData[i].taskProgress = taskProgress\r\n        this.dataTrain = this.listOfData[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  addTask(id: number) {\r\n    const modal = this.nzModal.create({\r\n      nzTitle: id ? '修改任务' : '创建任务',\r\n      nzContent: AddTrainingComponent,\r\n      nzOkText: '提交请求',\r\n      nzComponentParams: {\r\n        'trainId': id,\r\n      },\r\n      nzOnOk: (addComponent: AddTrainingComponent) => {\r\n     \r\n        addComponent.submitForm();\r\n        return false;\r\n      }\r\n    });\r\n    modal.afterClose.subscribe(() => {\r\n      this.loadTraining();\r\n    });\r\n  }\r\n  \r\nlistData:any\r\n  checkModelPrecision(event: any, data: any) {\r\n    var that = this\r\n    this.isVisible = true\r\n    setTimeout(()=>{\r\n      that.listData = data\r\n      $('.image-list').on('click', '.cover', function () {\r\n        var this_ = $(this);\r\n        var images = this_.parents('.image-list').find('.cover');\r\n        var imagesArr = new Array();\r\n        $.each(images, function (i, image) {\r\n          imagesArr.push($(image).children('img').attr('src'));\r\n        });\r\n        $.pictureViewer({\r\n          images: imagesArr, //需要查看的图片，数据类型为数组\r\n          initImageIndex: this_.index() + 1, //初始查看第几张图片，默认1\r\n          scrollSwitch: true //是否使用鼠标滚轮切换图片，默认false\r\n        });\r\n      });\r\n\r\n      axios.get(`${environment.API_URL}/v1/data_train/queryById?id=${data.id}`, {\r\n        headers: {\r\n          'Authorization':'Bearer '+localStorage.getItem('Bearer'),\r\n          'TR-Role': 'TR-User'\r\n        }\r\n      })\r\n      .then((result:any)=>{\r\n        var result = result.data.data\r\n        this.precision = result.precision.slice(0,5)*100+'%'\r\n        var prCurve = result.prCurve.split(\" \")\r\n        var aaa:any = [];\r\n        var xdata:any = [];\r\n        var ydata:any = [];\r\n        \r\n        var echartsData = []\r\n  \r\n        $.each(prCurve,function(i,n){\r\n          aaa.push(parseFloat(n.trim()))\r\n        })\r\n      \r\n        $.each(aaa,function(i,n){\r\n            if(i%2){\r\n              ydata.push(n)\r\n            }else{\r\n                xdata.push(n)\r\n            }\r\n        })\r\n\r\n        $.each(xdata,function(i,n){\r\n          echartsData.push([n,ydata[i]])\r\n\r\n        })\r\n\r\n\r\n        that.initModeLineCharts(echartsData)\r\n        that.jdcurver = JSON.parse(result.valErrorSample)\r\n \r\n       \r\n      })\r\n    },50)\r\n   \r\n    // // console.log('data', data);\r\n    // this.createTestTask(data.id);\r\n    // // this.nzMessage.warning('正在创建测试任务.........');\r\n    // event.stopPropagation();\r\n    // this.nzModal.create({\r\n    //   nzTitle: '模型精度',\r\n    //   nzContent: ModelPrecisionComponent,\r\n    //   nzOkText: '加入对比',\r\n    //   nzComponentParams: {\r\n    //     'trainId': data.id,\r\n    //   },\r\n    //   nzOnOk: (modelPrecisionComponent: ModelPrecisionComponent) => {\r\n\r\n    //     // 判断是否重复添加\r\n    //     let duplicated = false;\r\n    //     for (let i = 0; i < this.comparingDataTrainList.length; i++) {\r\n    //       if (this.comparingDataTrainList[i].id === modelPrecisionComponent.dataTrain.id) {\r\n    //         duplicated = true;\r\n    //         break;\r\n    //       }\r\n    //     }\r\n\r\n    //     if (duplicated) {\r\n    //       this.nzMessage.error('请勿重复添加');\r\n    //       return false;\r\n    //     } else if (this.comparingDataTrainList.length < 3) {\r\n\r\n    //       let compareName: string;\r\n    //       if (this.comparingDataTrainList.length == 0) {\r\n    //         compareName = '模型一';\r\n    //       } else if (this.comparingDataTrainList.length == 1) {\r\n    //         compareName = '模型二';\r\n    //       } else if (this.comparingDataTrainList.length == 2) {\r\n    //         compareName = '模型三';\r\n    //       }\r\n    //       modelPrecisionComponent.dataTrain.compareName = compareName;\r\n\r\n    //       this.comparingDataTrainList.push(modelPrecisionComponent.dataTrain);\r\n\r\n    //       this.showCompare = true;\r\n\r\n    //     } else {\r\n    //       this.nzMessage.error('最多对比3个模型');\r\n    //       return false;\r\n    //     }\r\n    //   },\r\n    //   nzCancelText: '关闭'\r\n    // });\r\n  }\r\n\r\n  startCompare() {\r\n\r\n    this.isVisible1 = true\r\n\r\n    var dataList = this.listOfData.map((item)=>{\r\n      if(this.mapOfCheckedId[item.id]){ \r\n        return item\r\n      }\r\n    })\r\n\r\n    this.initModeLineCharts1(dataList)\r\n\r\n    // const modal = this.nzModal.create({\r\n    //   nzTitle: '模型对比',\r\n    //   nzContent: ModelCompareComponent,\r\n    //   nzComponentParams: {\r\n    //     comparingDataTrainList: this.comparingDataTrainList\r\n    //   },\r\n    //   nzOnOk: (modelCompareComponent: ModelCompareComponent) => {\r\n    //     // return false;\r\n    //   },\r\n    //   nzCancelText: '关闭',\r\n    //   nzOkText: null\r\n    // });\r\n    // modal.afterClose.subscribe(() => {\r\n    //   // this.loadTraining();\r\n    // });\r\n  }\r\n\r\n  clearCompare() {\r\n    this.comparingDataTrainList = [];\r\n  }\r\n\r\n  closeCompare() {\r\n    this.comparingDataTrainList = [];\r\n    this.showCompare = false;\r\n  }\r\n\r\n  removeCompareItem(dataTrain: DataTrain) {\r\n    for (let i = 0; i < this.comparingDataTrainList.length; i++) {\r\n      if (dataTrain.id === this.comparingDataTrainList[i].id) {\r\n        this.comparingDataTrainList.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  trainResume() {\r\n    const checkedCameraIds = [];\r\n    for (const k in this.mapOfCheckedId) {\r\n      if (this.mapOfCheckedId[k]) {\r\n        checkedCameraIds.push(k);\r\n      }\r\n    }\r\n    if (checkedCameraIds.length < 1) {\r\n      this.nzMessage.error('最少勾选一项');\r\n      return;\r\n    }\r\n    const controllerIds = checkedCameraIds.join(',');\r\n    const params = new HttpParams().append('ids', controllerIds);\r\n    this.http.put(`${environment.API_URL}/v1/data_train/keepTask`, null, {params}).subscribe((result: any) => {\r\n      if (result.code) {\r\n        this.nzMessage.success('继续训练成功');\r\n        this.checkAll(false);\r\n        this.loadTraining();\r\n      } else {\r\n        this.nzMessage.error(result.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 创建28分库的测试任务\r\n  createTestTask(trainId: any) {\r\n    const params = new HttpParams().append('id', trainId);\r\n    this.http.put(`${environment.API_URL}/v1/data_train/start-validate-task`, null, {params}).subscribe((result: any) => {\r\n      if (result.code) {\r\n        this.nzMessage.warning('创建测试任务成功.........');\r\n      } else {\r\n        this.nzMessage.error(result.message);\r\n      }\r\n    });\r\n  }\r\n  handleCancel(){\r\n    this.isVisible = false;\r\n  }\r\n\r\n  handleCancel1(){\r\n    this.isVisible1 = false;\r\n  }\r\n\r\n  initModeLineCharts1(data:any){\r\n\r\n    // var prCurve = result.prCurve.split(\" \")\r\n\r\nvar echartsData1 = []\r\n  for (let index = 0; index < data.length; index++) {\r\n    const element = data[index];\r\n    \r\n    if(element){\r\n\r\n      var aaa:any = [];\r\n      var xdata:any = [];\r\n      var ydata:any = [];\r\n      var echartsData = []\r\n      var prCurve =  element.prCurve.split(\" \")\r\n     $.each(prCurve,function(i,n){\r\n      aaa.push(parseFloat(n.trim()))\r\n      })\r\n\r\n      $.each(aaa,function(i,n){\r\n        if(i%2){\r\n          ydata.push(n)\r\n        }else{\r\n         xdata.push(n)\r\n        }\r\n    })\r\n\r\n       $.each(xdata,function(i,n){\r\n      echartsData.push([n,ydata[i]])\r\n\r\n     })\r\n\r\n     echartsData1.push({echartsData,data:element})\r\n\r\n\r\n    }\r\n\r\n    \r\n  }\r\n\r\n\r\n\r\n   var dataset = [];\r\n   var series = []\r\n  $.each(echartsData1,function(i,x){\r\n\r\n    let data1 =  x.echartsData.map(y=>{\r\n      return y+\"\"\r\n    })\r\n       data1 = data1.map(x=>{\r\n         \r\n      return x.split(\",\")\r\n     \r\n     })\r\n\r\n    dataset.push(\r\n\r\n        {source: data1}\r\n\r\n      )\r\n\r\n      series.push(\r\n      {\r\n        name: x.data.taskName+'---'+x.data.typeSourceName,\r\n        type: 'line',\r\n        smooth: true,\r\n        datasetIndex: i,\r\n        symbolSize: 0.1,\r\n        symbol: 'circle',\r\n        label: { show: false, fontSize: 16 },\r\n        labelLayout: { dx: -20 },\r\n        encode: { label: 2, tooltip: 1 }\r\n      })\r\n   })\r\n\r\n\r\nvar option = {\r\n    dataset:dataset,\r\n    legend: {\r\n      show: true, // 是否显示图例\r\n        type: 'scroll', // 可滚动翻页的图例。当图例数量较多时可以使用。\r\n        orient:'horizontal', // 图例列表的布局朝向。\r\n        itemWidth: 8, // 图例标记的图形宽度。\r\n        itemHeight: 8, // 图例标记的图形高度。\r\n        textStyle: { // 图例的公用文本样式。\r\n          color: '#fff',\r\n          fontSize: 12\r\n        },\r\n        icon: 'rect' // 图例项的 icon。\r\n      },\r\n     title: {\r\n      text: '模\\n型\\n精\\n度\\n曲\\n线',\r\n      textStyle: {\r\n        color: \"#fff\", // 主标题文字的颜色。\r\n        fontStyle: \"normal\", // 主标题文字字体的风格。 'normal'  'italic'  'oblique'\r\n        fontWeight: \"normal\", // 主标题文字字体的粗细。 'normal' 'bold'  'bolder'  'lighter' 500|600\r\n        fontFamily: \"sans-serif\", // 主标题文字的字体系列。\r\n        fontSize: 15, // 字体大小\r\n      },\r\n      textAlign: \"auto\", //水平对齐'auto'、'left'、'right'、'center'\r\n      textVerticalAlign: \"auto\", // 垂直对齐  'auto'、'top'、'bottom'、'middle'\r\n      left:10, // 距离 left top right bottom\r\n      top:'40%'\r\n    },\r\n    tooltip: {\r\n      // trigger: 'axis',\r\n      axisPointer: {\r\n        type: 'cross',\r\n        label:{\r\n          color:\"rgba(14, 24, 142, 1)\"\r\n        }\r\n      }\r\n    },\r\n    xAxis: {\r\n        name:'召回率',\r\n        nameLocation: \"end\",\r\n        nameTextStyle: {\r\n                fontSize: 14,//正常是不用添加\r\n      },\r\n      splitLine: {\r\n        lineStyle: {\r\n          type: 'dashed'\r\n        }\r\n      },\r\n      axisLine:{\r\n        symbol:['none','arrow'],\r\n        lineStyle:{\r\n          color:'#fff'\r\n        }\r\n      }\r\n    },\r\n    yAxis: {\r\n      name:'准确率',\r\n        \r\n      nameLocation: \"end\",\r\n      \r\n      nameTextStyle: {\r\n              fontSize: 14,//正常是不用添加\r\n        },\r\n      splitLine: {\r\n        lineStyle: {\r\n          type: 'dashed',\r\n         \r\n        }\r\n      },\r\n      axisLine:{\r\n        symbol:['none','arrow'],\r\n        lineStyle:{\r\n          color:'#fff'\r\n        }\r\n      },\r\n    },\r\n    series: series\r\n  };\r\n\r\n  setTimeout(()=>{\r\n    var lineChartsDom:any = document.getElementById(\"lineCharts1\")\r\n      var lineChart:any =  echarts.init(lineChartsDom)\r\n   lineChart.setOption(option);\r\n  },10)\r\n\r\n\r\n \r\n\r\n  }\r\n\r\n\r\n\r\n  initModeLineCharts(data:any){\r\n\r\n    \r\n  let data1 =  data.map(x=>{\r\n     return x+\"\"\r\n   })\r\n      data1 = data1.map(x=>{\r\n        \r\n     return x.split(\",\")\r\n    \r\n    })\r\n\r\n  \r\n\r\n    // echarts.registerTransform(ecStat.transform.regression);\r\n\r\n    var option = {\r\n      dataset: [\r\n        {\r\n          source: data1\r\n        },\r\n        {\r\n          transform: {\r\n            type: 'ecStat:regression',\r\n            config: {\r\n              method: 'exponential',\r\n              // 'end' by default\r\n              // formulaOn: 'start'\r\n            }\r\n          }\r\n        }\r\n        \r\n      ],\r\n       title: {\r\n        text: '模\\n型\\n精\\n度\\n曲\\n线',\r\n        textStyle: {\r\n          color: \"#fff\", // 主标题文字的颜色。\r\n          fontStyle: \"normal\", // 主标题文字字体的风格。 'normal'  'italic'  'oblique'\r\n          fontWeight: \"normal\", // 主标题文字字体的粗细。 'normal' 'bold'  'bolder'  'lighter' 500|600\r\n          fontFamily: \"sans-serif\", // 主标题文字的字体系列。\r\n          fontSize: 15, // 字体大小\r\n        },\r\n        textAlign: \"auto\", //水平对齐'auto'、'left'、'right'、'center'\r\n        textVerticalAlign: \"auto\", // 垂直对齐  'auto'、'top'、'bottom'、'middle'\r\n        left:10, // 距离 left top right bottom\r\n        top:'40%'\r\n      },\r\n      tooltip: {\r\n        // trigger: 'axis',\r\n        axisPointer: {\r\n          type: 'cross',\r\n          label:{\r\n            color:\"rgba(14, 24, 142, 1)\"\r\n          }\r\n        }\r\n      },\r\n      xAxis: {\r\n          name:'召回率',\r\n          nameLocation: \"end\",\r\n          nameTextStyle: {\r\n                  fontSize: 14,//正常是不用添加\r\n        },\r\n        splitLine: {\r\n          lineStyle: {\r\n            type: 'dashed'\r\n          }\r\n        },\r\n        axisLine:{\r\n          symbol:['none','arrow'],\r\n          lineStyle:{\r\n            color:'#fff'\r\n          }\r\n        }\r\n      },\r\n      yAxis: {\r\n        name:'准确率',\r\n          \r\n        nameLocation: \"end\",\r\n        \r\n        nameTextStyle: {\r\n                fontSize: 14,//正常是不用添加\r\n          },\r\n        splitLine: {\r\n          lineStyle: {\r\n            type: 'dashed',\r\n           \r\n          }\r\n        },\r\n        axisLine:{\r\n          symbol:['none','arrow'],\r\n          lineStyle:{\r\n            color:'#fff'\r\n          }\r\n        },\r\n      },\r\n      series: [\r\n        {\r\n          name: 'line',\r\n          type: 'line',\r\n          smooth: true,\r\n          datasetIndex: 0,\r\n          symbolSize:5,\r\n          // symbol: 'circle',\r\n          // label: { show: true, fontSize: 16 },\r\n          labelLayout: { dx: -20 },\r\n          encode: { label: 2, tooltip: 1 }\r\n        }\r\n      ]\r\n    };\r\n\r\n\r\n    var lineChartsDom:any = document.getElementById(\"lineCharts\")\r\n    var lineChart:any =  echarts.init(lineChartsDom)\r\n    lineChart.setOption(option);\r\n  }\r\n\r\n\r\n\r\n  test(): void {\r\n    console.log('触发');\r\n  };\r\n\r\n}\r\n","\r\n\r\n\r\n<div class=\"flex-row\" style=\"height: 100%;\">\r\n\r\n\r\n<div *ngIf=\"isVisible1\" nzTitle=\"The first Modal\"\r\nclass=\"statistics-top flex-column\"\r\nstyle=\"height: 80%;\r\nwidth:70%;\r\nposition: absolute;\r\nz-index: 9999;\r\nbackground: #031129;\r\nmargin: 50px 10%;\r\n\">\r\n<div class=\"statistics-title\" style=\"position: relative;\">比对结果\r\n\r\n  <div class=\"close\" \r\n  style=\"width: 30px;height: 30px;position: absolute;right: 0px;top: 0px;\"\r\n  > \r\n  <i nz-icon nzType=\"close\" nzTheme=\"outline\" style=\"cursor: pointer;\" (click)=\"handleCancel1()\"></i>\r\n</div>\r\n\r\n</div>\r\n\r\n <div class=\"dbcontent\"> \r\n   <div class=\"dbCharts\">\r\n     <div class=\"dbtitle\">\r\n        <div class=\"leftLine\"></div> <div class=\"leftRect\"></div>\r\n        <div class=\"titleText\">模型精度曲线</div>\r\n        <div class=\"rightRect\"></div><div class=\"rightLine\"></div> \r\n     </div>\r\n      <div id=\"lineCharts1\" style=\"width: 100%;height:80%\" ></div>\r\n      <!-- [nzScroll]=\"{ x: '50%', y: '100%' }\" -->\r\n      <nz-table #basicTable [nzData]=\"complarelistOfData1\" #borderedTable nzBordered style=\"margin-left: 20px;\">\r\n        <thead>\r\n          <tr>\r\n            <th>训练版本</th>\r\n            <th>训练精度</th>\r\n            <th>Loss值</th>\r\n            <th>数据总数</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let data of basicTable.data\">\r\n            <td  nzBreakWord>{{ data.name }}</td>\r\n            <td  nzBreakWord>{{ data.age }}</td>\r\n            <td  nzBreakWord>{{ data.address }}</td>\r\n            <td  nzBreakWord>{{ data.address }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </nz-table>\r\n\r\n   </div>\r\n\r\n   <div class=\"dbTable\">\r\n    <div class=\"dbtitle\">\r\n      <div class=\"leftLine\"></div> <div class=\"leftRect\"></div>\r\n      <div class=\"titleText\">分类数据详情</div>\r\n      <div class=\"rightRect\"></div><div class=\"rightLine\"></div> \r\n   </div>\r\n   <!-- [nzScroll]=\"{ x: '50%', y: '100%' }\" -->\r\n    <nz-table #basicTable [nzData]=\"complarelistOfData2\" #borderedTable nzBordered style=\"margin-left: 20px;margin-top: 20px;\" >\r\n      <thead>\r\n        <tr>\r\n          <th>test1</th>\r\n          <th>test2</th>\r\n          <th>test3</th>\r\n          <th>test4</th>\r\n          \r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let data of basicTable.data\">\r\n          <td nzBreakWord>{{ data.name }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </nz-table>\r\n\r\n   </div>\r\n     \r\n\r\n  </div>\r\n  \r\n\r\n</div>\r\n\r\n<div *ngIf=\"isVisible\" nzTitle=\"The first Modal\"\r\nclass=\"statistics-top flex-column\"\r\nstyle=\"height: 80%;\r\nwidth: 80%;\r\nposition: absolute;\r\nz-index: 9999;\r\nbackground: #031129;\r\nmargin: 50px 5%;\r\n\">\r\n<div class=\"statistics-title\" style=\"position: relative;\">模型精度：{{precision}}\r\n\r\n  <div class=\"close\" \r\n  style=\"width: 30px;height: 30px;position: absolute;right: 0px;top: 0px;\"\r\n  > \r\n  <i nz-icon nzType=\"close\" nzTheme=\"outline\" style=\"cursor: pointer;\" (click)=\"handleCancel()\"></i>\r\n</div>\r\n\r\n</div>\r\n<nz-tabset nzType=\"card\" (nzSelectChange)=\"tabChange($event)\" >\r\n  <nz-tab nzTitle=\"模型精度曲线\" >\r\n    <div class=\"content\"> \r\n      <div class=\"lineCharts\" id=\"lineCharts\"></div>\r\n      <div class=\"main-content imgList\" id=\"csImg1\">\r\n        <h2 class=\"title\" style=\"font-size:18px\">评价样本库中的识别错误</h2>\r\n        <div class=\"image-list\" style=\"width: 100%;max-height: 450px;overflow-y: auto;\">\r\n            <div class=\"cover\" *ngFor=\"let item of jdcurver\"><img [src]=\"item\" alt=\"\"></div>\r\n        </div>\r\n      </div>\r\n\r\n  </div>\r\n  </nz-tab>\r\n  <nz-tab nzTitle=\"测  试\">\r\n      <div class=\"content\" style=\"flex-wrap: wrap;\">\r\n        <div style=\"flex: 0 0 100%;margin-left: 20px;\">\r\n          <label for=\"upload\" style=\"color: #fff;margin-right: 10px;\">测试:  </label>\r\n          <input type=\"file\" multiple=\"true\" accept=\"image/*\" style=\"color: #fff;\" id=\"imgInput\" >\r\n        </div>\r\n        <div class=\"main-content imgList\" id=\"csImg\">\r\n          <div class=\"image-list1\" style=\"width: 100%;max-height: 450px;overflow-y: auto;\" id=\"image-list1\">\r\n           \r\n          </div>\r\n        </div>\r\n      </div>\r\n  </nz-tab>\r\n</nz-tabset>\r\n  </div>\r\n\r\n  <div class=\"train-left flex-row\">\r\n    <div class=\"train-area flex-column\">\r\n      <div class=\"train-area-btns flex-row\">\r\n        <button class=\"train-area-btn-item\" [class.active]=\"flag === -1\" (click)=\"changeStatus(-1)\">排队中</button>\r\n        <button class=\"train-area-btn-item\" [class.active]=\"flag === 0\" (click)=\"changeStatus(0)\">进行中</button>\r\n        <button class=\"train-area-btn-item\" [class.active]=\"flag === 1\" (click)=\"changeStatus(1)\">已结束</button>\r\n      </div>\r\n\r\n      <div class=\"train-table-box\" >\r\n        <div class=\"train-btns\" style=\"position:relative\">\r\n\r\n          <ng-container *ngIf=\"flag===1\">\r\n            <nz-select [(ngModel)]=\"selectData\"  style=\"position: absolute;left:0;\" class=\"select\" (ngModelChange)=\"ngModelChange()\">\r\n              <nz-option  *ngFor=\"let item of selectList\" [nzValue]=\"item\" [nzLabel]=\"item\"></nz-option>\r\n            </nz-select>\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"flag===0\">\r\n            <button class=\"btn\" (click)=\"endTask()\">暂停</button>\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"compareDisplay\">\r\n            <button class=\"btn\" (click)=\"startCompare()\">开始对比</button>\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"flag===1\">\r\n            <button class=\"btn\" (click)=\"trainResume()\">继续训练</button>\r\n          </ng-container>\r\n\r\n          <button class=\"btn btn-remove\" (click)=\"delete()\">删除</button>\r\n          <button class=\"btn btn-new-task\" (click)=\"addTask(0)\" *ngIf=\"status == 'LINE_UP'\">新建任务</button>\r\n        </div>\r\n\r\n        <div class=\"flex-column\">\r\n          <nz-table class=\"blue-table\" #rowSelectionTable nzShowSizeChanger [nzData]=\"listOfData\"\r\n                    [nzShowPagination]=\"false\"\r\n                    [nzTotal]=\"dataTotal\" [(nzPageIndex)]=\"pageIndex\" [(nzPageSize)]=\"pageSize\">\r\n            <thead>\r\n            <tr>\r\n              <th\r\n                [(nzChecked)]=\"isAllDisplayDataChecked\"\r\n                [nzIndeterminate]=\"isIndeterminate\"\r\n                (nzCheckedChange)=\"checkAll($event)\"\r\n              ></th>\r\n              <th>任务名称</th>\r\n              <th>数据源</th>\r\n              <th>方式</th>\r\n              <th>模式</th>\r\n              <th>状态</th>\r\n              <th>开始时间</th>\r\n              <th *ngIf=\"flag === 1\">操作</th>\r\n              <th *ngIf=\"flag === 1\">发布</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr *ngFor=\"let data of rowSelectionTable.data;index as ids\" (click)=\"tableClick(data.id)\" [class.current-row]=\"dataTrain?.id === data.id\">\r\n              <td nzShowCheckbox\r\n                  [(nzChecked)]=\"mapOfCheckedId[data.id]\"\r\n                  (nzCheckedChange)=\"refreshStatus(ids)\"></td>\r\n              <td>{{ data.taskName }}</td>\r\n              <td>{{ data.typeSourceName }}</td>\r\n              <td>{{ data.taskMode | trainTaskMode}}</td>\r\n              <td>{{ data.taskPattern |taskPattern}}</td>\r\n              <td>{{ data.taskStatus | taskStatus}}</td>\r\n              <td>{{ data.createdTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>\r\n              <td *ngIf=\"flag === 1\">\r\n                <button class=\"btn\" (click)=\"checkModelPrecision($event,data)\">模型精度</button>\r\n                <!--\r\n                <span style=\"color: #FFF;background: #15a0ff;padding: 4px 8px;border-radius: 2px;cursor: pointer;\"\r\n                      (click)=\"checkModelPrecision($event,data)\">模型精度</span>\r\n                      -->\r\n              </td>\r\n              <td *ngIf=\"flag === 1\">\r\n                <button class=\"btn\" (click)=\"download($event, data)\">下载</button>\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </nz-table>\r\n\r\n          <!--\r\n          <table class=\"trainning-table\">\r\n            <thead>\r\n            <tr>\r\n              <th>任务名称</th>\r\n              <th>数据源</th>\r\n              <th>方式</th>\r\n              <th>模式</th>\r\n              <th>状态</th>\r\n              <th>开始时间</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr>\r\n\r\n              <td>Minnie Ford</td>\r\n              <td>可见光</td>\r\n              <td>增量训练</td>\r\n              <td>自动</td>\r\n              <td>40%</td>\r\n              <td>2018.06.23 15:36</td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>Minnie Ford</td>\r\n              <td>可见光</td>\r\n              <td>增量训练</td>\r\n              <td>自动</td>\r\n              <td>40%</td>\r\n              <td>2018.06.23 15:36</td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>Minnie Ford</td>\r\n              <td>可见光</td>\r\n              <td>增量训练</td>\r\n              <td>自动</td>\r\n              <td>40%</td>\r\n              <td>2018.06.23 15:36</td>\r\n            </tr>\r\n\r\n\r\n            </tbody>\r\n          </table>\r\n          -->\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <ng-container *ngIf=\"rightComponent\">\r\n    <div class=\"train-right flex-column\">\r\n      <div class=\"train-classifies flex-column\">\r\n        <div class=\"train-title\">任务进度</div>\r\n\r\n        <div class=\"echart-box\">\r\n          <nz-progress [nzPercent]=\"dataTrain?.taskProgress | taskProgress\" nzType=\"circle\" nzStrokeColor=\"#159FFF\"\r\n                       nzStrokeWidth=\"12\">\r\n           </nz-progress>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"train-images flex-column\">\r\n        <div class=\"train-title\">详细信息</div>\r\n\r\n        <div class=\"detail-info-box flex-column\">\r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">任务名称</span>\r\n            <span class=\"detail-info-value\">{{dataTrain?.taskName}}</span>\r\n          </div>\r\n          \r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">任务说明</span>\r\n            <span class=\"detail-info-value\">{{dataTrain?.taskPattern}}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">类别</span>\r\n            <span class=\"detail-info-value\">{{dataTrain?.typeSourceName}}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">应用场景</span>\r\n            <span class=\"detail-info-value\">{{dataTrain?.taskModeName}}</span>\r\n          </div>\r\n          \r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">任务模式</span>\r\n            <span class=\"detail-info-value\">{{dataTrain?.taskPattern |taskPattern}}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">触发条件</span>\r\n            <span class=\"is_mark\">每日</span>\r\n          </div>\r\n\r\n          <div class=\"detail-info-type flex-row\">\r\n            <span class=\"detail-info-param\">任务方式</span>\r\n            <span class=\"detail-info-value\">{{ dataTrain?.taskMode | trainTaskMode}}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"btn train-btn-edit\" (click)=\"addTask(dataTrain.id)\">编辑</button>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n\r\n</div>\r\n<div class=\"model-compare\" [class.show-compare]=\"showCompare\">\r\n  <div class=\"model-compare-title\">\r\n    <span>对比框</span>\r\n    <i nz-icon nzType=\"close\" nzTheme=\"outline\" (click)=\"closeCompare()\"></i>\r\n  </div>\r\n  <div class=\"compare-model-row\" *ngFor=\"let cdt of comparingDataTrainList\">\r\n    <span>{{cdt.compareName}}</span>\r\n    <i nz-icon nzType=\"close\" nzTheme=\"outline\" (click)=\"removeCompareItem(cdt)\"></i>\r\n  </div>\r\n\r\n  <!--\r\n  <div class=\"compare-model-row\">\r\n    <span>模型二</span>\r\n    <i nz-icon nzType=\"close\" nzTheme=\"outline\"></i>\r\n  </div>\r\n\r\n  <div class=\"compare-model-row\">\r\n    <span>模型三</span>\r\n    <i nz-icon nzType=\"close\" nzTheme=\"outline\"></i>\r\n  </div>\r\n  -->\r\n\r\n  <div class=\"model-compare-btn\">\r\n    <button class=\"btn\" (click)=\"startCompare()\">开始对比</button>\r\n  </div>\r\n  <div class=\"model-compre-del\">\r\n    <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n    <a nz-button nzType=\"link\" (click)=\"clearCompare()\">清空对比栏</a>\r\n  </div>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {DataTrainingRoutingModule} from './data-training-routing.module';\r\nimport {DataTrainingComponent} from './data-training.component';\r\nimport {\r\n  NzFormModule,\r\n  NzInputModule, NzMessageModule,\r\n  NzModalModule,\r\n  NzProgressModule,\r\n  NzSelectModule, NzTableModule,\r\n  NzTreeSelectModule,\r\n  NzTabsModule,\r\n  NzUploadModule\r\n} from 'ng-zorro-antd';\r\nimport {AddTrainingComponent} from './add-training.component';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {DataTaskPatternPipes, DataTaskProgressPipes, DataTaskStatusPipes, DataTrainPipes} from './data-train.pipes';\r\nimport {ModelPrecisionComponent} from \"./model-precision.component\";\r\nimport {IconsProviderModule} from \"../../icons-provider.module\";\r\nimport {ModelCompareComponent} from \"./model-compare.component\";\r\n\r\n\r\nconst APP_COMPONENTS = [DataTrainingComponent, AddTrainingComponent, ModelPrecisionComponent, ModelCompareComponent];\r\nconst NZ_MODULES = [NzModalModule, NzFormModule, NzInputModule, NzMessageModule, NzSelectModule, NzTreeSelectModule, NzProgressModule,\r\n  NzTableModule,NzTabsModule,NzUploadModule];\r\nconst NG_MODULES = [CommonModule, FormsModule, ReactiveFormsModule];\r\nconst APP_PIPES = [DataTrainPipes, DataTaskPatternPipes, DataTaskStatusPipes, DataTaskProgressPipes];\r\n\r\n@NgModule({\r\n  declarations: [...APP_COMPONENTS, ...APP_PIPES, DataTrainPipes],\r\n  imports: [DataTrainingRoutingModule, ...NZ_MODULES, ...NG_MODULES, IconsProviderModule]\r\n})\r\nexport class DataTrainingModule {\r\n\r\n}\r\n","import {Component, Input} from \"@angular/core\";\r\nimport {DataTrain} from \"../../core/http-entity\";\r\n\r\n@Component({\r\n  templateUrl: './model-compare.component.html',\r\n  styleUrls: ['./model-compare.component.less']\r\n})\r\nexport class ModelCompareComponent {\r\n  @Input()\r\n  comparingDataTrainList: DataTrain[] = [];\r\n\r\n}\r\n","<table>\r\n  <thead>\r\n  <tr>\r\n    <th>&nbsp;</th>\r\n    <th>召回率</th>\r\n    <th>准确率</th>\r\n  </tr>\r\n  </thead>\r\n\r\n  <tbody>\r\n  <tr *ngFor=\"let model of comparingDataTrainList\">\r\n    <td>{{model?.compareName}}</td>\r\n    <td>{{model?.recall}}%</td>\r\n    <td>{{model?.precision}}%</td>\r\n  </tr>\r\n  </tbody>\r\n</table>\r\n","import {Component, Input, OnInit} from \"@angular/core\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {environment} from \"../../../environments/environment\";\r\nimport {DataTrain, HttpResult} from \"../../core/http-entity\";\r\n\r\n@Component({\r\n  templateUrl: './model-precision.component.html',\r\n  styleUrls: ['./model-precision.component.less']\r\n})\r\nexport class ModelPrecisionComponent implements OnInit {\r\n\r\n  @Input()\r\n  trainId: number;\r\n\r\n  dataTrain: DataTrain;\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.http.get(`${environment.API_URL}/v1/data_train/${this.trainId}`).subscribe((result: HttpResult<DataTrain>) => {\r\n      if (HttpResult.succeed(result.code)) {\r\n        this.dataTrain = result.data;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<div>\r\n  <div class=\"flex-row\">\r\n    <span style=\"word-break: keep-all;\">召回率</span>\r\n    <div class=\"precision-progress-bar\">\r\n      <div style=\"margin-left: 2px;overflow: hidden;\">\r\n        <img src=\"assets/IMG_2555.PNG\" [ngStyle]=\"{right:(100-dataTrain?.recall)+'%'}\">\r\n      </div>\r\n\r\n    </div>\r\n    <div style=\"min-width: 60px;\">\r\n      {{dataTrain?.recall}}%\r\n    </div>\r\n    <!--\r\n    <nz-progress [nzPercent]=\"50\"  nzStatus=\"active\" [nzStrokeColor]=\"{ '0%': '#108ee9', '100%': '#87d068' }\"></nz-progress>\r\n    -->\r\n  </div>\r\n  <div class=\"flex-row\" style=\"margin-top: 10px;\">\r\n    <span style=\"word-break: keep-all;\">准确率</span>\r\n    <div class=\"precision-progress-bar\">\r\n      <div style=\"margin-left: 2px;overflow: hidden;\">\r\n        <img src=\"assets/IMG_2555.PNG\" [ngStyle]=\"{right:(100-dataTrain?.precision)+'%'}\">\r\n      </div>\r\n    </div>\r\n    <div style=\"min-width: 60px;\">\r\n      {{dataTrain?.precision}}%\r\n    </div>\r\n    <!--\r\n    <nz-progress [nzPercent]=\"50\" nzStatus=\"active\" [nzStrokeColor]=\"{ '0%': '#108ee9', '100%': '#87d068' }\"></nz-progress>\r\n    -->\r\n  </div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}